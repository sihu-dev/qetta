---
description: "Opus 4.5 기반 종합 검수 - 코드, 콘솔, UX/UI, E2E, 보안 통합 검사 (150점 만점)"
argument-hint: "[--all|--quick|--code|--console|--uxui|--e2e|--security|--file PATH]"
model: opus
allowed-tools: Read, Grep, Glob, Bash, Task
---

# /audit 명령어

Opus 4.5 기반 종합 검수 시스템 - 코드, 콘솔, UX/UI, E2E 통합 검사

## 사용법

```
/audit [options]
```

## 검수 범위 (총 150점)

### A. 코드 품질 (30점) - opus-reviewer
- TypeScript strict mode
- 함수형 프로그래밍
- 네이밍 컨벤션
- 보안 패턴

### B. 콘솔 에러 (25점) - console-error-check.py
- TypeScript 컴파일 에러
- ESLint 에러
- React 경고
- 런타임 에러

### C. UX/UI (35점) - uxui-auditor
- 모노크롬 디자인 준수 (15점)
- 반응형 레이아웃 (10점)
- 접근성 (10점)

### D. E2E 테스트 (30점) - e2e-tester + Playwright MCP
- 페이지 로드 (10점)
- 네비게이션 (10점)
- 폼 동작 (10점)

### E. 보안 (30점) - security-auditor
- 하드코딩 시크릿
- Injection 취약점
- OWASP Top 10

## 옵션

| 옵션 | 설명 |
|------|------|
| `--all` | 전체 검수 (기본) |
| `--quick` | 빠른 검수 (빌드+린트만) |
| `--code` | 코드 품질만 |
| `--console` | 콘솔 에러만 |
| `--uxui` | UX/UI만 |
| `--e2e` | E2E 테스트만 |
| `--security` | 보안만 |
| `--file PATH` | 특정 파일만 |

## 실행 프로세스

```
/audit
    │
    ├─▶ [1단계] 빌드 검사
    │   ├── npm run typecheck
    │   └── npm run lint
    │
    ├─▶ [2단계] 코드 품질
    │   ├── code-quality-check.py (PostToolUse Hook)
    │   └── opus-reviewer Agent
    │
    ├─▶ [3단계] 콘솔 에러
    │   ├── console-error-check.py
    │   └── 개발 서버 상태 확인
    │
    ├─▶ [4단계] UX/UI 검수
    │   ├── 모노크롬 디자인 위반 검사
    │   ├── 반응형 브레이크포인트 확인
    │   └── 접근성 ARIA 검사
    │
    ├─▶ [5단계] E2E 테스트
    │   ├── Playwright MCP 브라우저 테스트
    │   ├── 반응형 뷰포트 테스트
    │   └── 스크린샷 비교
    │
    └─▶ [6단계] 보안 검사
        ├── 시크릿 스캔
        └── 취약점 패턴 검사
```

## 출력 형식

```
╔══════════════════════════════════════════════════════════════╗
║                  BIDFLOW 종합 검수 보고서                      ║
╠══════════════════════════════════════════════════════════════╣
║  검수 시간: 2025-01-15 14:30:00                                ║
║  대상 파일: 127개                                              ║
║  검수 항목: 5개 카테고리                                        ║
╚══════════════════════════════════════════════════════════════╝

┌─ A. 코드 품질 ─────────────────────── 28/30점 ──────────────┐
│  ✓ TypeScript strict mode 준수                              │
│  ✓ any 타입 사용 없음                                        │
│  ⚠ console.log 3건 발견 (프로덕션 제거 필요)                   │
└──────────────────────────────────────────────────────────────┘

┌─ B. 콘솔 에러 ─────────────────────── 25/25점 ──────────────┐
│  ✓ TypeScript 컴파일 성공                                    │
│  ✓ ESLint 에러 없음                                          │
│  ✓ React 경고 없음                                           │
└──────────────────────────────────────────────────────────────┘

┌─ C. UX/UI ─────────────────────────── 32/35점 ──────────────┐
│  ✓ 모노크롬 디자인 준수                                       │
│  ✓ 반응형 레이아웃 적용                                       │
│  ⚠ aria-label 누락: Modal.tsx, Dropdown.tsx                  │
└──────────────────────────────────────────────────────────────┘

┌─ D. E2E 테스트 ────────────────────── 30/30점 ──────────────┐
│  ✓ 모든 페이지 로드 성공                                      │
│  ✓ 네비게이션 정상 작동                                       │
│  ✓ 폼 제출 정상 작동                                          │
└──────────────────────────────────────────────────────────────┘

┌─ E. 보안 ──────────────────────────── 28/30점 ──────────────┐
│  ✓ 하드코딩 시크릿 없음                                       │
│  ✓ Injection 취약점 없음                                      │
│  ⚠ Rate Limiting 미적용 API 2건                              │
└──────────────────────────────────────────────────────────────┘

═══════════════════════════════════════════════════════════════
                      총점: 143/150점 (95%)
═══════════════════════════════════════════════════════════════

등급: A (우수)
판정: PASS ✓

※ 80점 이상 PASS, 60-79점 조건부 PASS, 60점 미만 FAIL
```

## 자동 호출 조건

```yaml
자동 실행:
  - 커밋 전 (PreCommit Hook)
  - PR 생성 전
  - 주요 기능 구현 완료 후

수동 실행:
  - /audit 명령어
  - /review --full
```

## 검수 결과 저장

```bash
# 보고서 저장 위치
.claude/audit-reports/
├── 2025-01-15_143000.md    # 텍스트 보고서
├── 2025-01-15_143000.json  # JSON 데이터
└── screenshots/            # E2E 스크린샷
    ├── landing-desktop.png
    ├── landing-mobile.png
    └── features-tablet.png
```

## 에이전트 호출 순서

1. **opus-reviewer** (model: opus) - 코드 품질 심층 분석
2. **security-auditor** (model: sonnet) - 보안 취약점 스캔
3. **uxui-auditor** (model: sonnet) - UX/UI 검수
4. **e2e-tester** (model: sonnet) - E2E 테스트 실행
